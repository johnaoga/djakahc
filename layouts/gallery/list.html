{{ define "main" }}
  <h1>{{ .Title }}</h1>
  {{ with .Content }}<div class="card" style="margin-bottom:16px">{{ . }}</div>{{ end }}
  <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px;">
    {{ $dir := (printf "static/%s" (strings.TrimPrefix "/" (strings.TrimSuffix "/" (relURL "/gallery/")))) }}
    {{ range (readDir "static/gallery") }}
      {{ if not .IsDir }}
        <a href="{{ (printf "/gallery/%s" .Name) | relURL }}" target="_blank" class="card" style="padding:0">
          <img src="{{ (printf "/gallery/%s" .Name) | relURL }}" alt="" style="width:100%; height:180px; object-fit:cover; border-radius:6px;"/>
        </a>
      {{ end }}
    {{ else }}
      <div class="card">Gallery coming soon.</div>
    {{ end }}
  </div>
{{ end }}
